

\documentclass[12pt, captions=nooneline, titlepage, footsepline, headsepline, toc=sectionentrywithdots, listof=entryprefix, bibliography=totoc]{scrartcl}
\usepackage{tocbasic}
\usepackage[ngerman]{babel}
\usepackage[backend=biber, style=authortitle]{biblatex}

%! Das Inhaltsverzeichnis wird an dieser Stelle formatiert.
\RedeclareSectionCommands[tocindent=0pt]{section, subsection, subsubsection}
\RedeclareSectionCommands[tocnumwidth=45pt]{section, subsection, subsubsection}


%! Formatierung aller Verzeichnisse
\renewcaptionname{ngerman}{\refname}{Quellenverzeichnis}
\setuptoc{toc}{totoc}
\setuptoc{lof}{totoc}
\setuptoc{lot}{totoc}
%\setuptoc{bibliography}{totoc}
\renewcommand*\listoflofentryname{\bfseries\figurename}
\BeforeStartingTOC[lof]{\renewcommand*\autodot{\space\space\space\space}}
\addtokomafont{captionlabel}{\bfseries}
\renewcommand*\listoflotentryname{\bfseries\tablename}
\BeforeStartingTOC[lot]{\renewcommand*\autodot{\space\space\space\space}}

%! Latex-Packages, die verwendet werden

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{tabularx}
\usepackage{setspace} 
\usepackage{booktabs}
\usepackage{svg}
\usepackage{graphicx}
\usepackage{float}
\usepackage[a4paper,lmargin={2.5cm},rmargin={2.5cm},tmargin={2cm},bmargin={2cm}]{geometry}

\usepackage{csquotes}


%! Schriftart
\usepackage{helvet}
\usepackage{microtype}
\renewcommand{\familydefault}{\sfdefault}

\usepackage[hidelinks]{hyperref}
\usepackage{acronym}
\renewcommand*{\aclabelfont}[1]{\acsfont{#1}} %Abkürzungsverzeichnis - Formatierung
\usepackage{listings} %zB zum korrekten anzeigen von BASH-Befehlen
\lstset{ %listings Einstellungen
  breaklines=true,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
}



%! Caption um Tabellen und Abbildungen richtig zu beschriften
\usepackage{caption}
\captionsetup{labelsep=none}
%\addto\captionsngerman{\renewcommand{\figurename}{Abbildung}}
\renewcommand*{\figureformat}{%
  \figurename~\thefigure%
  \autodot{\space\space\space}
}
\renewcommand*{\tableformat}{%
  \tablename~\thetable%
  \autodot{\space\space\space}
}

%! Formatierung des Literaturverzeichnis
\DeclareFieldFormat{url}{\newline\url{#1}}
\DeclareFieldFormat{urldate}{\addcomma\space\bibstring{urlseen}\space#1}

\DefineBibliographyStrings{german}{%
  urlseen = {Abruf am},
}
\setlength\bibitemsep{\baselineskip}

%! Formatierung der Fußnotenzitate / Literaturverzeichnis
\renewcommand*{\newunitpunct}{\addcomma\space} 

%? Normales Zitat...
\DeclareCiteCommand{\zitat}[\mkbibfootnote]
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   %\mkbibbrackets{\usebibmacro{cite}}%
   \setunit{\addnbspace}
   \printnames{labelname}%
   \setunit{\labelnamepunct}
   %\printfield[citetitle]{title}%
   \newunit
   \printfield{year}
   \newunit
   \printfield{pages}}
  {\addsemicolon\space}
  {\usebibmacro{postnote}}

%? Online Zitat
\DeclareCiteCommand{\onlinezitat}[\mkbibfootnote]
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   %\mkbibbrackets{\usebibmacro{cite}}%
   \setunit{\addnbspace}
   online:
   \printnames{labelname}%
   \setunit{\labelnamepunct}
   %\printfield[citetitle]{title}%
   \newunit
   \printfield{year}
   \printtext{(}\printfield{urlday}.\printfield{urlmonth}\printtext{.}\printfield{urlyear}\printtext{)}}
   %\printurldate}
  %{\addsemicolon\space}
  {\usebibmacro{postnote}}


\DeclareMultiCiteCommand{\zitate}[\mkbibfootnote]{\footpartcite}{\addsemicolon\space}

\addbibresource{literatur.bib}

%! Kopf- und Fußzeile
\usepackage[automark]{scrlayer-scrpage} 
\pagestyle{scrheadings} 
\clearscrheadings 
\clearscrplain 
\rohead{\headmark} 
\lofoot{} 
\cofoot{} 
\rofoot{\pagemark}
\makeatletter
\usepackage{geometry}
\geometry{a4paper,
          left=25mm,right=25mm,top=20mm,bottom=20mm,
          includehead=false, % Kopfzeile außerhalb des Textkörper, also im Rand
          includefoot=false,
          headheight = \baselineskip,
          headsep = \dimexpr\Gm@tmargin-\headheight-10mm,
          footskip = \dimexpr\Gm@bmargin-10mm,
          %showframe,
          bindingoffset=0mm}
% Kopfzeile 1,0 cm Abstand zum Blattrand
% Fußzeile 1,0 cm Abstand zum Blattrand
\makeatother


%! Versuch von besseren Seitenumbrüchen
\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000
\widowpenalties= 3 10000 10000 150

\linespread{1.3}
\newcommand\frontmatter{%
    \cleardoublepage
  %\@mainmatterfalse
  \pagenumbering{Roman}}

\newcommand\mainmatter{%
    \cleardoublepage
 % \@mainmattertrue
  \pagenumbering{arabic}}

\newcommand\backmatter{%
  \if@openright
    \cleardoublepage
  \else
    \clearpage
  \fi
 % \@mainmatterfalse
   }

% ? Ab hier beginnen eigene Befehle um den Umgang zu erleichtern   

\newcommand{\absatz}{\vspace{12pt}\noindent}
\newcommand{\logisch}[1]{$``#1``$}
\newcommand{\bild}[3][1.0]{\begin{figure}[H]
                      \centering
                      \includegraphics[width=#1\columnwidth]{bilder/#2}
                      \caption{#3}
                      \label{fig:#3}
                      \end{figure}}